1. Для проверки доступных сетевых интерфейсов в Linux можно воспользоваться командой ```ip link```
Под Windows - ```ipconfig```
Пример для Linux:
```commandline
ip -br -c link
lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP> 
enp0s25          DOWN           50:7b:9d:67:d0:ad <NO-CARRIER,BROADCAST,MULTICAST,UP> 
wlp3s0           UP             08:d4:0c:0a:19:c8 <BROADCAST,MULTICAST,UP,LOWER_UP>
```

2. Для распознавания соседа по сетевому интерфейсу в Linux используется протокол LLDP.
В Linux существует пакет lldpd, установив который командой lldpctl можно посмотреть к какому порту подключён сервер.
Также с помощью ```ip neigh``` можно посмотреть сведения о соседе:
```commandline
 ip -c neigh 
192.168.1.1 dev wlp3s0 lladdr 50:ff:20:50:4f:78 REACHABLE
```

3. Для разделения L2 коммутатора на несколько виртуальных сетей используется VLAN.
В линух есть пакет vlan для управления виртуальными сетями.
Пример конфига:
```commandline
root@vagrant:~# cat /etc/network/interfaces
# interfaces(5) file used by ifup(8) and ifdown(8)
# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d
auto eth0.800
iface eth0.800 inet static
        address 192.168.1.1
        netmask 255.255.255.0
        vlan_raw_device eth0
```

4. Типы агрегации портов в Linux:

  4.1. Mode-0(balance-rr) – Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.

  4.2. Mode-1(active-backup) – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблем на активном интерфейсе производится переключение на ожидающий интерфейс. Не требует поддержки от коммутатора.

  4.3. Mode-2(balance-xor) – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора.

  4.4. Mode-3(broadcast) – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.

  4.5. Mode-4(802.3ad) – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора.

  4.6. Mode-5(balance-tlb) – Адаптивная балансировки нагрузки трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требует специальной поддержки и настройки коммутатора/коммутаторов.

  4.7. Mode-6(balance-alb) – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5. Обеспечивает балансировку нагрузки как исходящего так и входящего трафика. Не требует специальной поддержки и настройки коммутатора/коммутаторов. 

Пример конфигурации в режиме "active-backup":

```commandline
root@vagrant:~# cat /etc/network/interfaces
auto bond0
iface bond0 inet dhcp
   bond-slaves eth0 eth1
   bond-mode active-backup
   bond-miimon 100
   bond-primary eth0 eth1
```

5. Разобьём сеть 10.10.10.0/24 на подсети /29 с помощью команды sipcalc:

```commandline
root@vagrant:~# sipcalc 10.10.10.0/24  -s 29 | grep Network
Network                 - 10.10.10.0      - 10.10.10.7
Network                 - 10.10.10.8      - 10.10.10.15
Network                 - 10.10.10.16     - 10.10.10.23
Network                 - 10.10.10.24     - 10.10.10.31
Network                 - 10.10.10.32     - 10.10.10.39
Network                 - 10.10.10.40     - 10.10.10.47
Network                 - 10.10.10.48     - 10.10.10.55
Network                 - 10.10.10.56     - 10.10.10.63
Network                 - 10.10.10.64     - 10.10.10.71
Network                 - 10.10.10.72     - 10.10.10.79
Network                 - 10.10.10.80     - 10.10.10.87
Network                 - 10.10.10.88     - 10.10.10.95
Network                 - 10.10.10.96     - 10.10.10.103
Network                 - 10.10.10.104    - 10.10.10.111
Network                 - 10.10.10.112    - 10.10.10.119
Network                 - 10.10.10.120    - 10.10.10.127
Network                 - 10.10.10.128    - 10.10.10.135
Network                 - 10.10.10.136    - 10.10.10.143
Network                 - 10.10.10.144    - 10.10.10.151
Network                 - 10.10.10.152    - 10.10.10.159
Network                 - 10.10.10.160    - 10.10.10.167
Network                 - 10.10.10.168    - 10.10.10.175
Network                 - 10.10.10.176    - 10.10.10.183
Network                 - 10.10.10.184    - 10.10.10.191
Network                 - 10.10.10.192    - 10.10.10.199
Network                 - 10.10.10.200    - 10.10.10.207
Network                 - 10.10.10.208    - 10.10.10.215
Network                 - 10.10.10.216    - 10.10.10.223
Network                 - 10.10.10.224    - 10.10.10.231
Network                 - 10.10.10.232    - 10.10.10.239
Network                 - 10.10.10.240    - 10.10.10.247
Network                 - 10.10.10.248    - 10.10.10.255
```
Подсчитаем количество сетей /29 в сети /24:

```commandline
root@vagrant:~# sipcalc 10.10.10.0/24  -s 29 | grep Network | wc
     32     160    1363
```

Видим, что в сети с маской 255.255.255.0 32 подсети с маской 255.255.255.248.

6. Для организации стыка между сетями с диапазонами 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 можно использовать сеть 
100.64.0.0/26, которая обеспечивает 64 адреса в сети. Пример:

```commandline
root@vagrant:~# sipcalc 100.64.0.0/26
-[ipv4 : 100.64.0.0/26] - 0

[CIDR]
Host address            - 100.64.0.0
Host address (decimal)  - 1681915904
Host address (hex)      - 64400000
Network address         - 100.64.0.0
Network mask            - 255.255.255.192
Network mask (bits)     - 26
Network mask (hex)      - FFFFFFC0
Broadcast address       - 100.64.0.63
Cisco wildcard          - 0.0.0.63
Addresses in network    - 64
Network range           - 100.64.0.0 - 100.64.0.63
Usable range            - 100.64.0.1 - 100.64.0.62
```

7. Проверить ARP таблицу в Linux можно следующими командами:

```commandline
dekar@Dekar-NIX:~/tmp$ ip neigh 
192.168.1.17 dev wlp3s0 lladdr f0:9e:4a:32:3d:86 REACHABLE
192.168.1.4 dev wlp3s0 lladdr 90:cc:df:87:09:e7 STALE
192.168.1.1 dev wlp3s0 lladdr 50:ff:20:50:4f:78 REACHABLE
dekar@Dekar-NIX:~/tmp$ arp -a
? (192.168.1.17) at f0:9e:4a:32:3d:86 [ether] on wlp3s0
? (192.168.1.4) at 90:cc:df:87:09:e7 [ether] on wlp3s0
_gateway (192.168.1.1) at 50:ff:20:50:4f:78 [ether] on wlp3s0
```

В Windows:

```commandline
PS C:\Users\Пользователь> arp -a

Интерфейс: 192.168.56.1 --- 0xe
  адрес в Интернете      Физический адрес      Тип
  192.168.56.255        ff-ff-ff-ff-ff-ff     статический
  224.0.0.22            01-00-5e-00-00-16     статический
  224.0.0.251           01-00-5e-00-00-fb     статический
  224.0.0.252           01-00-5e-00-00-fc     статический
  239.255.255.250       01-00-5e-7f-ff-fa     статический

Интерфейс: 192.168.1.12 --- 0x13
  адрес в Интернете      Физический адрес      Тип
  192.168.1.1           50-ff-20-50-4f-78     динамический
  192.168.1.4           90-cc-df-87-09-e7     динамический
  192.168.1.43          6c-88-14-17-11-f8     динамический
  192.168.1.255         ff-ff-ff-ff-ff-ff     статический
  224.0.0.22            01-00-5e-00-00-16     статический
  224.0.0.251           01-00-5e-00-00-fb     статический
  224.0.0.252           01-00-5e-00-00-fc     статический
  239.255.255.250       01-00-5e-7f-ff-fa     статический
  255.255.255.255       ff-ff-ff-ff-ff-ff     статический
 ```

Удалить одну запись из таблицы ARP можно командой ```ip neigh flush IP_Address``` или ```arp -d IP_Address```.

Очистить польностью таблицу можно командой ```ip neigh flush all```.